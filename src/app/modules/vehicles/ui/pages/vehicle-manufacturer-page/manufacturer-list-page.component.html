<div class="vehicle-manufacturers-container">
  <div class="header">
    <div class="header-actions">
      <button mat-icon-button (click)="goToDashboard()" class="back-button" aria-label="Back to dashboard">
        <mat-icon>dashboard</mat-icon>
      </button>
      <h1>Vehicle Manufacturers</h1>
    </div>
  </div>

  @if (loading()) {
    <div class="loading-container">
      <mat-spinner></mat-spinner>
      <p>Loading initial manufacturers...</p>
    </div>
  } @else {
    <cdk-virtual-scroll-viewport
      [itemSize]="itemHeight"
      class="manufacturers-viewport"
      (scrolledIndexChange)="onScrollIndexChange($event)">

      <div *cdkVirtualFor="let manufacturer of manufacturers(); trackBy: trackByManufacturerId; let i = index"
           class="manufacturer-item">
        <mat-card class="manufacturer-card" (click)="navigateToManufacturerDetail(manufacturer)">
          <mat-card-header>
            <mat-card-title>{{ manufacturer.name }}</mat-card-title>
            <mat-card-subtitle>
              {{ manufacturer.commonName }} | {{ manufacturer.country }} | ID: {{ manufacturer.id }}
            </mat-card-subtitle>
          </mat-card-header>
        </mat-card>
      </div>
    </cdk-virtual-scroll-viewport>
  }
</div>
